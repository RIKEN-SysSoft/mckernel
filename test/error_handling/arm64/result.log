gcc -o exec exec.c 
./run.sh
mcstop+release.sh ... done
mcreboot.sh -c 4-15 -m 4G@0,4G@1,4G@2,4G@3 -O ... done
Makefile
README
exec
exec.c
ltplist.txt
mck_boot_test.sh
patch
result.log
result_issue1011.log
result_issue727.log
run.sh
run_issue1011.sh
run_issue727.sh
Issue727_0001: OK
Issue873_0001 n=100/100 ok.
[OK] succeed to boot McKernel 100 times
Issue873_0001: OK
exa-kernel
Issue1011_0001: OK
perf_event_open01    1  TFAIL  :  perf_event_open01.c:158: perf_event_open failed unexpectedly: TEST_ERRNO=EPERM(1): Operation not permitted
##### perf_event_open01 returned not 0 #####
perf_event_open02    1  TCONF  :  perf_event_open02.c:165: PERF_COUNT_HW_INSTRUCTIONS not supported
perf_event_open02    2  TCONF  :  perf_event_open02.c:165: Remaining cases not appropriate for configuration
##### perf_event_open02 returned not 0 #####
get_mempolicy01    0  TINFO  :  (case00) START
EXPECT: return value(ret)=0 errno=0 (Success)
RESULT: return value(ret)=0 errno=0 (Success)
get_mempolicy01    1  TPASS  :  (case00) END
get_mempolicy01    0  TINFO  :  (case01) START
EXPECT: return value(ret)=0 errno=0 (Success)
RESULT: return value(ret)=0 errno=0 (Success)
get_mempolicy01    2  TPASS  :  (case01) END
get_mempolicy01    0  TINFO  :  (case02) START
EXPECT: return value(ret)=0 errno=0 (Success)
RESULT: return value(ret)=0 errno=0 (Success)
get_mempolicy01    3  TPASS  :  (case02) END
get_mempolicy01    0  TINFO  :  (case03) START
EXPECT: return value(ret)=0 errno=0 (Success)
RESULT: return value(ret)=0 errno=0 (Success)
get_mempolicy01    4  TPASS  :  (case03) END
get_mempolicy01    0  TINFO  :  (case04) START
EXPECT: return value(ret)=0 errno=0 (Success)
RESULT: return value(ret)=0 errno=0 (Success)
get_mempolicy01    5  TPASS  :  (case04) END
get_mempolicy01    0  TINFO  :  (case05) START
EXPECT: return value(ret)=0 errno=0 (Success)
RESULT: return value(ret)=0 errno=0 (Success)
get_mempolicy01    6  TPASS  :  (case05) END
get_mempolicy01    0  TINFO  :  (case06) START
EXPECT: return value(ret)=0 errno=0 (Success)
RESULT: return value(ret)=0 errno=0 (Success)
get_mempolicy01    7  TPASS  :  (case06) END
get_mempolicy01    0  TINFO  :  (case07) START
EXPECT: return value(ret)=0 errno=0 (Success)
RESULT: return value(ret)=0 errno=0 (Success)
get_mempolicy01    8  TPASS  :  (case07) END
get_mempolicy01    0  TINFO  :  (case08) START
EXPECT: return value(ret)=0 errno=0 (Success)
RESULT: return value(ret)=0 errno=0 (Success)
get_mempolicy01    9  TPASS  :  (case08) END
get_mempolicy01    0  TINFO  :  (case09) START
EXPECT: return value(ret)=0 errno=0 (Success)
RESULT: return value(ret)=0 errno=0 (Success)
get_mempolicy01   10  TPASS  :  (case09) END
get_mempolicy01    0  TINFO  :  (case10) START
EXPECT: return value(ret)=-1 errno=14 (Bad address)
RESULT: return value(ret)=-1 errno=14 (Bad address)
get_mempolicy01   11  TPASS  :  (case10) END
get_mempolicy01    0  TINFO  :  (case11) START
EXPECT: return value(ret)=-1 errno=22 (Invalid argument)
RESULT: return value(ret)=-1 errno=22 (Invalid argument)
get_mempolicy01   12  TPASS  :  (case11) END
execl01_child    1  TPASS  :  execve01_child executed
execve01    0  TINFO  :  Child process returned TPASS
Hello World
execve02    0  TINFO  :  Child process returned TPASS
execve03    1  TPASS  :  execve failed as expected: TEST_ERRNO=ENAMETOOLONG(36): File name too long
execve03    2  TPASS  :  execve failed as expected: TEST_ERRNO=ENOENT(2): No such file or directory
execve03    3  TPASS  :  execve failed as expected: TEST_ERRNO=ENOTDIR(20): Not a directory
execve03    4  TPASS  :  execve failed as expected: TEST_ERRNO=EFAULT(14): Bad address
Error: /tmp/exetEhv7P/fake.22387 is not an executable?, errno: 13
load_elf_desc_shebang: error: loading file: /tmp/exetEhv7P/fake.22387
execve03    5  TPASS  :  execve failed as expected: TEST_ERRNO=EACCES(13): Permission denied
Error: file /tmp/exetEhv7P/execve03.22387 is zero length
load_elf_desc_shebang: error: loading file: /tmp/exetEhv7P/execve03.22387
execve03    6  TPASS  :  execve failed as expected: TEST_ERRNO=ENOEXEC(8): Exec format error
Hello World
execve05    1  TPASS  :  Test DONE, pid 22478, -- execve05 0 execve05 execve05
execve05    1  TPASS  :  Test DONE, pid 22495, -- execve05 0 execve05 execve05
execve05    1  TPASS  :  Test DONE, pid 22512, -- execve05 0 execve05 execve05
execve05    1  TPASS  :  Test DONE, pid 22529, -- execve05 0 execve05 execve05
execve05    1  TPASS  :  Test DONE, pid 22546, -- execve05 0 execve05 execve05
execve05    1  TPASS  :  Test DONE, pid 22564, -- execve05 0 execve05 execve05
execve05    1  TPASS  :  Test DONE, pid 22581, -- execve05 0 execve05 execve05
execve05    1  TPASS  :  Test DONE, pid 22598, -- execve05 0 execve05 execve05
fork01      1  TPASS  :  fork() returned 22634
fork01      2  TPASS  :  child pid and fork() return agree: 22634
fork02      0  TINFO  :  Inside parent
fork02      0  TINFO  :  Inside child
fork02      0  TINFO  :  exit status of wait 0
fork02      1  TPASS  :  test 1 PASSED
fork03      0  TINFO  :  process id in parent of child from fork : 22701
fork03      1  TPASS  :  test 1 PASSED
fork04      1  TPASS  :  Env var TERM unchanged after fork(): screen
fork04      2  TPASS  :  Env var NoTSetzWq unchanged after fork(): getenv() does not find variable set
fork04      3  TPASS  :  Env var TESTPROG unchanged after fork(): FRKTCS04
fork05      0  TINFO  :  %fs test only for ix86
fork06      0  TINFO  :  tries 1000
fork06      0  TINFO  :  successes 1000
fork06      0  TINFO  :  failures 0
fork06      0  TINFO  :  There were no children to wait for
fork07      0  TINFO  :  Forking 100 children
fork07      0  TINFO  :  Forked all 100 children, now collecting
fork07      0  TINFO  :  Collected all 100 children
fork07      1  TPASS  :  100/100 children read correctly from an inheritted fd
fork08      0  TINFO  :  parent forksval: 1
fork08      0  TINFO  :  parent forksval: 2
fork08      0  TINFO  :  second child got char: b
fork08      0  TINFO  :  exit status of wait  expected 0 got 0
fork08      1  TPASS  :  Test passed in childnumber 2
fork08      1  TPASS  :  parent test PASSED
fork08      0  TINFO  :  exit status of wait  expected 0 got 0
fork08      2  TPASS  :  parent test PASSED
fork08      0  TINFO  :  exit status of wait  expected 0 got 0
fork08      3  TPASS  :  parent test PASSED
fork08      0  TINFO  :  Number of processes forked is 2
fork09      0  TINFO  :  OPEN_MAX is 1024
fork09      0  TINFO  :  first file descriptor is 8 
fork09      0  TINFO  :  Parent reporting 1023 files open
fork09      0  TINFO  :  Child opened new file #1023
fork09      1  TPASS  :  test 1 PASSED
fork10      0  TINFO  :  fork child A
fork10      1  TPASS  :  test 1 PASSED
fork11      1  TPASS  :  fork test passed, 100 processes
fork13      1  TPASS  :  1 pids forked, all passed
./run.sh: 105 行:  7799 強制終了            timeout -sKILL 5m ${MCEXEC} ${LTPBIN}/${line}
##### fork14 returned not 0 #####
clone01     1  TPASS  :  clone returned 8155
clone02     1  TFAIL  :  clone02.c:144: clone() failed: TEST_ERRNO=EINVAL(22): Invalid argument
clone02     2  TPASS  :  Test Passed
##### clone02 returned not 0 #####
clone03     1  TPASS  :  Test passed
clone04     1  TPASS  :  expected failure; Got EINVAL
clone05     1  TFAIL  :  clone05.c:65: Test Failed
##### clone05 returned not 0 #####
clone06     1  TPASS  :  Test Passed
clone07     1  TPASS  :  Use of return() in child did not cause SIGSEGV
clone08     0  TINFO  :  running CLONE_PARENT
clone08     1  TPASS  :  test CLONE_PARENT
clone08     0  TINFO  :  running CLONE_CHILD_SETTID
clone08     2  TPASS  :  test CLONE_CHILD_SETTID
clone08     0  TINFO  :  running CLONE_PARENT_SETTID
clone08     3  TBROK  :  clone08.c:129: CLONE_PARENT_SETTID clone() failed: TEST_ERRNO=EINVAL(22): Invalid argument
clone08     4  TBROK  :  clone08.c:129: Remaining cases broken
##### clone08 returned not 0 #####
kill01      1  TPASS  :  received expected signal 9
kill02      1  TPASS  :  The signal was sent to all processes in the process group.
kill02      2  TPASS  :  The signal was not sent to selective processes that were not in the process group.
kill03      1  TPASS  :  errno set to 22 : Invalid argument, as expected
kill04      1  TPASS  :  errno set to 3 : No such process, as expected
execve04    1  TBROK  :  tst_checkpoint.c:129: execve04.c:128: tst_checkpoint_wait(0, 10000): errno=ETIMEDOUT(110): Connection timed out
execve04    2  TBROK  :  tst_checkpoint.c:129: Remaining cases broken
kill failed with EPERM
kill05      1  TPASS  :  received expected errno(EPERM)
kill06      1  TPASS  :  received expected signal 9
kill07      0  TINFO  :  received expected signal 9
kill07      1  TPASS  :  Did not catch signal as expected
kill08      1  TPASS  :  received expected signal 9
kill09      1  TPASS  :  kill(8913, SIGKILL) returned 0
kill10      1  TPASS  :  All 2 pgrps received their signals
8946: All 4 children reported in
8960: All 4 children reported in
kill11      0  TINFO  :  Adjusting RLIMIT_CORE to 1048576
kill11      1  TPASS  :  signal SIGHUP          
kill11      2  TPASS  :  signal SIGINT          
kill11      3  TPASS  :  signal SIGQUIT          dumped core
kill11      4  TPASS  :  signal SIGILL           dumped core
kill11      5  TPASS  :  signal SIGTRAP          dumped core
kill11      6  TPASS  :  signal SIGIOT/SIGABRT   dumped core
kill11      7  TPASS  :  signal SIGIOT/SIGABRT   dumped core
kill11      8  TPASS  :  signal SIGBUS           dumped core
kill11      9  TPASS  :  signal SIGFPE           dumped core
kill11     10  TPASS  :  signal SIGKILL         
kill11     11  TPASS  :  signal SIGUSR1         
kill11     12  TPASS  :  signal SIGSEGV          dumped core
kill11     13  TPASS  :  signal SIGUSR2         
kill11     14  TPASS  :  signal SIGPIPE         
kill11     15  TPASS  :  signal SIGALRM         
kill11     16  TPASS  :  signal SIGTERM         
kill11     17  TPASS  :  signal SIGXCPU          dumped core
kill11     18  TPASS  :  signal SIGXFSZ          dumped core
kill11     19  TPASS  :  signal SIGVTALRM       
kill11     20  TPASS  :  signal SIGPROF         
kill11     21  TPASS  :  signal SIGIO/SIGPOLL   
kill11     22  TPASS  :  signal SIGPWR          
kill11     23  TPASS  :  signal SIGSYS/SIGUNUSED dumped core
kill12      1  TPASS  :  Test passed
madvise01    1  TPASS  :  madvise test for MADV_NORMAL PASSED
madvise01    2  TPASS  :  madvise test for MADV_RANDOM PASSED
madvise01    3  TPASS  :  madvise test for MADV_SEQUENTIAL PASSED
madvise01    4  TPASS  :  madvise test for MADV_WILLNEED PASSED
madvise01    5  TPASS  :  madvise test for MADV_DONTNEED PASSED
madvise02    1  TPASS  :  failed as expected: TEST_ERRNO=EINVAL(22): Invalid argument
madvise02    2  TPASS  :  failed as expected: TEST_ERRNO=EINVAL(22): Invalid argument
madvise02    3  TPASS  :  failed as expected: TEST_ERRNO=EINVAL(22): Invalid argument
madvise02    4  TCONF  :  madvise02.c:216: kernel configured with CONFIG_KSM, skip EINVAL test for MADV_MERGEABLE.
madvise02    5  TCONF  :  madvise02.c:237: kernel configured with CONFIG_KSM, skip EINVAL test for MADV_UNMERGEABLE.
madvise02    6  TPASS  :  failed as expected: TEST_ERRNO=ENOMEM(12): Cannot allocate memory
madvise02    7  TPASS  :  madvise succeeded as expected, see kernel commit 1998cc0 for details.
##### madvise02 returned not 0 #####
madvise03    1  TPASS  :  madvise test for MADV_REMOVE PASSED
madvise03    2  TPASS  :  madvise test for MADV_DONTFORK PASSED
madvise03    3  TPASS  :  madvise test for MADV_DOFORK PASSED
madvise04    1  TPASS  :  madvise test for MADV_DONTDUMP PASSED
madvise04    2  TPASS  :  madvise test for MADV_DODUMP PASSED
madvise05    1  TCONF  :  madvise05.c:63: CONFIG_SWAP=n
madvise05    2  TCONF  :  madvise05.c:63: Remaining cases not appropriate for configuration
##### madvise05 returned not 0 #####
signal01    1  TPASS  :  signal(SIGKILL, 0x1(SIG_IGN)) failed with EINVAL
signal01    0  TINFO  :  Child process returned TPASS
signal01    1  TPASS  :  signal(SIGKILL, (nil)(SIG_DFL)) failed with EINVAL
signal01    0  TINFO  :  Child process returned TPASS
signal01    1  TPASS  :  signal(SIGKILL, 0x4027d0(catchsig())) failed with EINVAL
signal01    0  TINFO  :  Child process returned TPASS
signal01    1  TPASS  :  Child killed with SIGKILL
signal01    2  TPASS  :  Child killed with SIGKILL
signal01    3  TPASS  :  Child killed with SIGKILL
signal02    1  TPASS  :  expected failure - errno = 22 - Invalid argument
signal02    2  TPASS  :  expected failure - errno = 22 - Invalid argument
signal02    3  TPASS  :  expected failure - errno = 22 - Invalid argument
signal03    1  TPASS  :  signal03 call succeeded
signal03    2  TPASS  :  signal03 call succeeded
signal03    3  TPASS  :  signal03 call succeeded
signal03    4  TPASS  :  signal03 call succeeded
signal03    5  TPASS  :  signal03 call succeeded
signal03    6  TPASS  :  signal03 call succeeded
signal03    7  TPASS  :  signal03 call succeeded
signal03    8  TPASS  :  signal03 call succeeded
signal03    9  TPASS  :  signal03 call succeeded
signal03   10  TPASS  :  signal03 call succeeded
signal03   11  TPASS  :  signal03 call succeeded
signal03   12  TPASS  :  signal03 call succeeded
signal03   13  TPASS  :  signal03 call succeeded
signal03   14  TPASS  :  signal03 call succeeded
signal03   15  TPASS  :  signal03 call succeeded
signal03   16  TPASS  :  signal03 call succeeded
signal03   17  TPASS  :  signal03 call succeeded
signal03   18  TPASS  :  signal03 call succeeded
signal03   19  TPASS  :  signal03 call succeeded
signal03   20  TPASS  :  signal03 call succeeded
signal03   21  TPASS  :  signal03 call succeeded
signal03   22  TPASS  :  signal03 call succeeded
signal03   23  TPASS  :  signal03 call succeeded
signal03   24  TPASS  :  signal03 call succeeded
signal03   25  TPASS  :  signal03 call succeeded
signal03   26  TPASS  :  signal03 call succeeded
signal03   27  TPASS  :  signal03 call succeeded
signal03   28  TPASS  :  signal03 call succeeded
signal03   29  TPASS  :  signal03 call succeeded
signal03   30  TPASS  :  signal03 call succeeded
signal03   31  TPASS  :  signal03 call succeeded
signal04    1  TPASS  :  signal04 call succeeded received (nil).
signal04    2  TPASS  :  signal04 call succeeded received (nil).
signal04    3  TPASS  :  signal04 call succeeded received (nil).
signal04    4  TPASS  :  signal04 call succeeded received (nil).
signal04    5  TPASS  :  signal04 call succeeded received (nil).
signal04    6  TPASS  :  signal04 call succeeded received (nil).
signal04    7  TPASS  :  signal04 call succeeded received (nil).
signal04    8  TPASS  :  signal04 call succeeded received (nil).
signal04    9  TPASS  :  signal04 call succeeded received (nil).
signal04   10  TPASS  :  signal04 call succeeded received (nil).
signal04   11  TPASS  :  signal04 call succeeded received (nil).
signal04   12  TPASS  :  signal04 call succeeded received (nil).
signal04   13  TPASS  :  signal04 call succeeded received (nil).
signal04   14  TPASS  :  signal04 call succeeded received (nil).
signal04   15  TPASS  :  signal04 call succeeded received (nil).
signal04   16  TPASS  :  signal04 call succeeded received (nil).
signal04   17  TPASS  :  signal04 call succeeded received (nil).
signal04   18  TPASS  :  signal04 call succeeded received (nil).
signal04   19  TPASS  :  signal04 call succeeded received (nil).
signal04   20  TPASS  :  signal04 call succeeded received (nil).
signal04   21  TPASS  :  signal04 call succeeded received (nil).
signal04   22  TPASS  :  signal04 call succeeded received (nil).
signal04   23  TPASS  :  signal04 call succeeded received (nil).
signal04   24  TPASS  :  signal04 call succeeded received (nil).
signal04   25  TPASS  :  signal04 call succeeded received (nil).
signal04   26  TPASS  :  signal04 call succeeded received (nil).
signal04   27  TPASS  :  signal04 call succeeded received (nil).
signal04   28  TPASS  :  signal04 call succeeded received (nil).
signal05    1  TPASS  :  signal05 call succeeded
signal05    2  TPASS  :  signal05 call succeeded
signal05    3  TPASS  :  signal05 call succeeded
signal05    4  TPASS  :  signal05 call succeeded
signal05    5  TPASS  :  signal05 call succeeded
signal05    6  TPASS  :  signal05 call succeeded
signal05    7  TPASS  :  signal05 call succeeded
signal05    8  TPASS  :  signal05 call succeeded
signal05    9  TPASS  :  signal05 call succeeded
signal05   10  TPASS  :  signal05 call succeeded
signal05   11  TPASS  :  signal05 call succeeded
signal05   12  TPASS  :  signal05 call succeeded
signal05   13  TPASS  :  signal05 call succeeded
signal05   14  TPASS  :  signal05 call succeeded
signal05   15  TPASS  :  signal05 call succeeded
signal05   16  TPASS  :  signal05 call succeeded
signal05   17  TPASS  :  signal05 call succeeded
signal05   18  TPASS  :  signal05 call succeeded
signal05   19  TPASS  :  signal05 call succeeded
signal05   20  TPASS  :  signal05 call succeeded
signal05   21  TPASS  :  signal05 call succeeded
signal05   22  TPASS  :  signal05 call succeeded
signal05   23  TPASS  :  signal05 call succeeded
signal05   24  TPASS  :  signal05 call succeeded
signal05   25  TPASS  :  signal05 call succeeded
signal05   26  TPASS  :  signal05 call succeeded
signal05   27  TPASS  :  signal05 call succeeded
signal05   28  TPASS  :  signal05 call succeeded
signal05   29  TPASS  :  signal05 call succeeded
signal05   30  TPASS  :  signal05 call succeeded
signal05   31  TPASS  :  signal05 call succeeded
TEST_SUITE: kill
TEST_NUMBER: 1
ARGS: -p 6
Generate child process pid:15427, pgid:15208
Generate child process pid:15441, pgid:15208
Generate child process pid:15456, pgid:15208
Generate child process pid:15470, pgid:15208
Generate child process pid:15484, pgid:15208
Generate child process pid:15498, pgid:15208
wait for a few sec...
Send to all processes that have permission to send a signal.
[pid:15412, pgid:15208] Get signal.
[pid:15484, pgid:15208] Get signal.
[pid:15456, pgid:15208] Get signal.
[pid:15427, pgid:15208] Get signal.
[pid:15441, pgid:15208] Get signal.
[pid:15498, pgid:15208] Get signal.
[pid:15470, pgid:15208] Get signal.
RESULT: ok
ulimit -u 0001: OK
ulimit -u 0002: OK
make: *** [test] エラー 255
